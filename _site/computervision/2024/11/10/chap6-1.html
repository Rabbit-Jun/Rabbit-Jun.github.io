<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>rabbitjun</title>
    <link rel="stylesheet" href="/assets/css/style.css">
</head>
<body>
    <header class="site-header">
        <div class="container">
            <a href="/" class="blog-name">RabbitJun</a>
        </div>
        <hr> <!-- 전체 너비의 선 -->
    </header>
    <div class="container sidebar-content">
        <div class="sidebar">
    <!-- 프로필 정보 -->
    <div class="profile">
        <img src="/assets/images/profile.jpg" alt="프로필 이미지" class="profile-image">
        <h2>juneon</h2>
        <p>아직 모르는게 많아 열심히 공부중</p>
    </div>
    
    <!-- 사이드바 카테고리 목록 -->
    <div class="sidebar-categories">
        <ul>
            
            <li><a href="/category/objectdetection">objectdetection</a></li>
            
            <li><a href="/category/webcrawling">webcrawling</a></li>
            
            <li><a href="/category/linear_algebra">linear_algebra</a></li>
            
            <li><a href="/category/diary">diary</a></li>
            
            <li><a href="/category/computervision">computervision</a></li>
            
            <li><a href="/category/deeplearning">deeplearning</a></li>
            
            <li><a href="/category/preferences">preferences</a></li>
            
            <li><a href="/category/hnv">hnv</a></li>
            
            <li><a href="/category/network_program">network_program</a></li>
            
            <li><a href="/category/computer_structure">computer_structure</a></li>
            
        </ul>
        
    </div>
</div>

        <div class="content">
            <article class="post-box">
  <div class="post-header">
    <h1>vision agent</h1>
    <p class="post-date">Nov 10, 2024</p>
  </div>
  <div class="post-content">
    <h1 id="pyqt를-이용한-사용자-인터페이스">PyQt를 이용한 사용자 인터페이스</h1>
<p>비전 프로그램을 비전 에이전트로 확장하려면 적절한 그래픽 사용자 인터페이스(<em>GUI</em>)를 추가해야 한다.<br />
그중에서 우리는 PyQt를 사용하기로 한다.<br />
<code class="language-plaintext highlighter-rouge">pip install PyQt6</code></p>

<h3 id="pyqt-기초-프로그래밍">PyQt 기초 프로그래밍</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">PyQt6.QtWidgets</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="n">sys</span>
<span class="kn">import</span> <span class="n">winsound</span> <span class="c1"># 삑 소리를 내는데 사용, 매개변수는 QMainWindow
</span>
<span class="k">class</span> <span class="nc">BeepSound</span><span class="p">(</span><span class="n">QMainWindow</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="p">:</span> <span class="c1"># 객체를 생성하면 자동으로 실행되는 생성자 함수 __init__ 정의
</span>        <span class="nf">super</span><span class="p">().</span><span class="nf">__init__</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">setWindowTitle</span><span class="p">(</span><span class="sh">"</span><span class="s">삑 소리 내기</span><span class="sh">"</span><span class="p">)</span> <span class="c1"># 윈도우 이름과 위치 지정
</span>        <span class="n">self</span><span class="p">.</span><span class="nf">setGeometry</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">500</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span> <span class="c1"># 윈도우를 화면의 (200, 200)위치에 초기 배치하고 너비와 높이를 각각 500과 100으로 설정
</span>
        <span class="n">shortBeepButton</span><span class="o">=</span><span class="nc">QPushButton</span><span class="p">(</span><span class="sh">"</span><span class="s">짧게 삑</span><span class="sh">"</span><span class="p">,</span> <span class="n">self</span><span class="p">)</span> <span class="c1"># 버튼 생성
</span>        <span class="n">longBeepButton</span><span class="o">=</span><span class="nc">QPushButton</span><span class="p">(</span><span class="sh">"</span><span class="s">길게 삑</span><span class="sh">"</span><span class="p">,</span> <span class="n">self</span><span class="p">)</span>
        <span class="n">quitButton</span><span class="o">=</span><span class="nc">QPushButton</span><span class="p">(</span><span class="sh">"</span><span class="s">나가기</span><span class="sh">"</span><span class="p">,</span> <span class="n">self</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">label</span><span class="o">=</span><span class="nc">QLabel</span><span class="p">(</span><span class="sh">"</span><span class="s">welcome!</span><span class="sh">"</span><span class="p">,</span><span class="n">self</span><span class="p">)</span> <span class="c1"># self.으로 시작하면 멤버 변수가 된다,
</span>                                           <span class="c1">#멤버 변수는 클래스 어느 곳에서든 접근이 가능하며 클래스로 생성한 객체에서도 접근이 가능하다
</span>        <span class="n">shortBeepButton</span><span class="p">.</span><span class="nf">setGeometry</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">30</span><span class="p">)</span> <span class="c1"># 버튼 위치와 크기 지정
</span>        <span class="n">longBeepButton</span><span class="p">.</span><span class="nf">setGeometry</span><span class="p">(</span><span class="mi">110</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">30</span><span class="p">)</span>
        <span class="n">quitButton</span><span class="p">.</span><span class="nf">setGeometry</span><span class="p">(</span><span class="mi">210</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">30</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">label</span><span class="p">.</span><span class="nf">setGeometry</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">500</span><span class="p">,</span><span class="mi">70</span><span class="p">)</span>

        <span class="n">shortBeepButton</span><span class="p">.</span><span class="n">clicked</span><span class="p">.</span><span class="nf">connect</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">shortBeepFunction</span><span class="p">)</span> <span class="c1"># 콜백 함수 지정, 인자로 들어간 함수 실행
</span>        <span class="n">longBeepButton</span><span class="p">.</span><span class="n">clicked</span><span class="p">.</span><span class="nf">connect</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">longBeepFunction</span><span class="p">)</span>
        <span class="n">quitButton</span><span class="p">.</span><span class="n">clicked</span><span class="p">.</span><span class="nf">connect</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">quitFunction</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">shortBeepFunction</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">label</span><span class="p">.</span><span class="nf">setText</span><span class="p">(</span><span class="sh">'</span><span class="s">주파수 1000으로 0.5초 동안 삑 소리를 냅니다</span><span class="sh">'</span><span class="p">)</span> <span class="c1"># 레이블 위젯에 지정한 텍스트를 쓴다
</span>        <span class="n">winsound</span><span class="p">.</span><span class="nc">Beep</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span> <span class="c1"># 주파수 1000인 삑 소리를 500밀리초 동안 들려준다
</span>
    <span class="k">def</span> <span class="nf">longBeepFunction</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">label</span><span class="p">.</span><span class="nf">setText</span><span class="p">(</span><span class="sh">'</span><span class="s">주파수 1000으로 3초 동안 삑 소리를 냅니다</span><span class="sh">'</span><span class="p">)</span>
        <span class="n">winsound</span><span class="p">.</span><span class="nc">Beep</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span><span class="mi">3000</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">quitFunction</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">close</span><span class="p">()</span>

<span class="n">app</span><span class="o">=</span><span class="nc">QApplication</span><span class="p">(</span><span class="n">sys</span><span class="p">.</span><span class="n">argv</span><span class="p">)</span> <span class="c1"># PyQt 실행에 필요한 객체 app을 생성한다
</span><span class="n">win</span><span class="o">=</span><span class="nc">BeepSound</span><span class="p">()</span> <span class="c1"># BeepSound 클래스의 객체 win을 생성한다, 이때 위에서 정의된 BeepSound 클래스의 생성자 함수 __init__이 자동으로 실행된다.
</span><span class="n">win</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
<span class="n">app</span><span class="p">.</span><span class="nf">exec</span><span class="p">()</span> <span class="c1"># 무한루프를 돌림으로써 프로그램이 끝나는 것을 방지 
# exec()가 없으면 win 객체에 해당하는 윈도우를 화면에 띄우는 순간 프로그램이 끝나서 사용자가 프로그램과 상호작용할 기회가 없다. 
</span>
</code></pre></div></div>
<p>super(). <strong>init</strong>() 라고 해야하는데 super. <strong>init</strong>()라 해서 인자 없다고 오류남ㅋㅋㅌㅌㅋㅋ</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>TypeError: descriptor '__init__' of 'super' object needs an argument
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>app.exec()는 PyQt 애플리케이션의 이벤트 루프를 시작하는 역할을 합니다. 이 이벤트 루프는 프로그램이 종료될 때까지 계속해서 실행되며, 사용자 입력, 창 이동, 마우스 클릭, 키보드 입력 등의 이벤트를 처리합니다.

왜 exec()를 사용하는가?
이벤트 처리 유지: app.exec()는 애플리케이션이 실행되는 동안 무한 루프를 돌면서 이벤트를 계속해서 수신하고 처리합니다. 이 루프가 없다면 프로그램이 즉시 종료되어, 창이 나타나도 바로 사라질 것입니다.

사용자 상호작용 처리: GUI 애플리케이션은 단순히 코드를 한 번 실행하고 끝나는 게 아니라, 사용자 입력과 같은 상호작용을 지속해서 처리해야 합니다. app.exec()는 이러한 입력을 처리하기 위해 필요합니다.

프로그램 종료까지 실행 유지: 이벤트 루프가 돌고 있는 동안 app.exec()는 끝나지 않으며, 프로그램 창이 닫힐 때 자동으로 종료됩니다. 프로그램을 종료하기 위해 app.quit()을 호출하거나, 창을 닫는 것으로 루프가 끝납니다.
</code></pre></div></div>

<p>.<br />
.<br />
.<br />
.<br />
<img src="image-53.png" alt="alt text" /><br />
<em>비전에이전트</em></p>

  </div>
</article>

        </div>
    </div>
</body>
</html>
