---
title: "프로세스의 개요"
date: 2024-04-08
layout: post
categories: OS
---
# 프로세스의 개념
- **운영체제에서 프로세스는 하나의 작업 단위 이다.**
- 프로그램 
    - **저장장치에** 저장되어 있는 정적인 상태 (**프로그램을 짠다**)

- 프로세스
    - 실행을 위해 **메모리에** 올라온 동적인 상태 (**프로세스를 실행한다**)
![program and process](/assets/osimg/program_and_process.png)

### 요리사 모형으로 비유하는 프로세스
- 일괄 작업 방식의 요리
    - 레스토랑에 테이블이 하나만 있는 것
    - 요리사는 주문서를 받은 순서대로 요리
    - 현재 손님의 식사가 끝나야 다음 손님을 받을 수 있어 작업 효율이 떨어짐
    - 주문서가 도착한 순서대로 요리를 하기 위해 '주문 목록'을 사용(주문 목록은 큐(quewue)로 처리)
![batch operation](/assets/osimg/batch_operation.png)

- 시분할 방식의 요리
    - 요리사 1명이 시간을 적당히 배분하여 여러 가지 요리를 동시에 하는 방식
    - 요리사는 주문 목록에 있는 주문서 중 하나를 가져다가 요리함
    - 모든 요리가 제공되면 주문 목록에서 삭제
![timesharing](/assets/osimg/timesharinig.png)

- 시분할 방식에서의 예상치 못한 상황 처리
![index](/assets/osimg/index.png)

### 프로그램에서 프로세스로의 전환
- 프로세스 제어 블록
    - 프로세스 제어 블록(PCB Process Control Block)은 프로그램이 프로세스로 전환될 때 운영체제가 만드는 작업 지시서
    - 어떤 프로그램이 프로세스가 되었다는 것은 운영체제로부터 프로세스 제어 블록을 받았다는 의미
    - **PCB에는 프로세스를 처리하는데 필요한 다양한 정보가 들어있다**
    - **프로세스 제어 블록에 있는 대표적인 세 가지 정보**
        - 프로세스 구분자(Process IDentification; PID): 각 프로세스를 구분하는 구분자
        - 메모리 관련 정보: 프로세스의 메모리 위치 정보, 메모리 보호를 위한 경계 레지스터와 한계 레지스터
        - 각종 중간값: 프로세스가 사용했던 중간값 (**각종 레지스터 정보 등**)

- 프로그램이 프로세스가 되는 과정
![program to process](/assets/osimg/program_to_process.png)
- **운영체제도 프로그램이기 때문에 프로세스 형태로 실행된다**
- **부트스트랩이 운영체제 관련 프로세스를 실행한 후 일반 프로세스가 실행된다**
- **컴퓨터에는 일반 사용자의 사용자 프로세스와 운영체제의 커널 프로세스가 섞여서 실행된다**

# 프로세스와 프로그램의 관계
- 프로그램이 프로세스가 된다는 것은 운영체제로부터 프로세스 제어 블록을 얻었다는 뚯
- 프로세스가 종료된다는 것은 해당 프로세스 제어 블록이 폐기된다는 뜻
*프로세스 = 프로그램 + 프로세스 제어 블록*
*프로그램 =프로세스 - 프로세스 제어 블록*

# 프로세스의 네 가지 상태
- **생성 상태(create status)**: 프로세스가 메모리에 올라와 실행 준비를 완료한 상태.
    - 프로세스 제어 블록 생성
- **준비 상태(ready status)**: 생성된 프로세스가 CPU를 얻을 때까지 기다리는 상태
- **실행 상태(running status)**: 준비 상태에 있는 프로세스 중 하나가 CPU를 얻어 실제 작업을 수행하는 상태. execute status 라고도 함.
- **완료 상태(terminate status)**: 실행 상태의 프로세스가 주어진 시간 동안 작업을 마치면 진입하는 상태.
    - 프로세스 제어 블록 사라짐
![four state of process](/assets/osimg/state_of_process.png)
- CPU 스케줄러(CPU scheduler): 준비 상태에 있는 여러 프로세스 중 다음에 실행할 프로세스를 선정
- 디스패치(dispatch): 준비 상태의 프로세스 중 하나를 골라 실행 상태로 바꾸는 CPU 스케줄러의 작업
- 타임아웃(time out): 프로세스가 자신에게 주어진 하나의 타임 슬라이스 동안 작업을 끝내지 못해 다시 준비 상태로 돌아가는 것

# 프로세스의 다섯 가지 상태
![5states of process](/assets/osimg/five_states.png)
- 대기 상태(blocking status): 실행 상태의 프로세스가 입출력을 요청하면 입출력이 완료될 때까지 기다리는 상태로 작업 효율을 높이기 위해 만들어진 것.
    - **wait status 라고도 함**
    - **입출력 장치별로 만들어진 큐에서 대기함**

# 프로세스의 상태 정리
![states](/assets/osimg/states.png)

# 프로세스의 상태
1. 활성 상태: 생성,준비,실행, 대기, 완료
2. 휴식 상태
3. 보류 상태

# 휴식 상태와 보류 상태
- 휴식 상태(pause status): 프로세스가 작업을 일시적으로 쉬고 있는 상태.(**메모리에 있음**)
- 보류 상태(suspend status): 프로세스가 메모리에서 잠시 쫓겨난 상태로 '일시 정지 상태'라고도 불림 (**swap 영역에 있음**)
    - 메모리가 꽉 차서 일부 프로세스를 메모리 밖으로 내보낼 때
    - 프로그램에 오류가 있어서 실행을 미루어야 할 때
    - 바이러스와 같이 악의적인 공격을 하는 프로세스라고 판단될 때
    - 매우 긴 주기로 반복되는 프로세스라 메모리 밖으로 쫓아내도 큰 문제가 없을 때
    - 입출력을 기다리는 프로세스의 입출력이 계속 지연될 때

# 보류 상태를 포함한 프로세스의 상태
![state2](/assets/osimg/state2.png)

